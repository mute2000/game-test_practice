# Royal Match游戏理解主文档
## 1. 游戏基础信息
- 游戏类型：三消 + 城堡装饰的休闲益智手游
- 目标用户：轻度闯关、收集偏好、碎片化时间的青年玩家
- 基础操作
  1.  滑动交换相邻方块
  2.  匹配 3 个及以上相同颜色方块即可消除

## 2. 核心玩法体系
### 2.1 核心循环
- 消耗体力进入关卡 → 完成关卡指定消除目标 → 通关获取金币/星星/活动物品 → 进入下一关卡
- 通关获得earn star解锁城堡不同区域，完成区域装扮获取阶段性奖励

### 2.2 关卡类型
- 普通关卡：难度平缓，通关可获得少量金币和earn star、获得活动物品/推进活动进度
- hard level：难度高于普通关卡，通关可获得少量金币和earn star、指定活动进度为普通关卡的3倍
- super hard level：难度高于hard level，通关可获得少量金币和earn star、指定活动进度为普通关卡的5倍
- extremely hard level：难度高于super hard level，通关可获得少量金币和earn star、指定活动进度为普通关卡的10倍
- bonus level（奖励关卡）
  - 该关卡不可以在游戏开始前选择局外道具，关卡无失败机制，必定通关
  - 仅刷新两种颜色消除方块，特效组合概率大幅提升
  - 通关可获得大量金币和earn star、指定活动进度和普通关卡一样
  - 可有效缓解主线连续闯关的疲劳
- king's nightmare（特殊关卡）
  - 该关卡不可以在游戏开始前选择局外道具，区别于常规步数限制关卡，采用限时消除机制，完成目标即可通关
  - 可自主选择参与或跳过；失败无法使用金币续命，可无限重新挑战；失败不会打断活动连胜、活动进度计数
  - 通关可获得少量金币和earn star、指定活动进度为普通关卡的2倍
  - 限时消除机制（实现了我想要一顿乱操作的想法），可有效缓解主线连续闯关的疲劳

### 2.3 关卡目标类型
1. 收集类：收集指定数量的目标物品
2. 消除类：消除目标物品
3. 掉落类：将目标物品移动到底部可收集

## 3. 资源系统
### 3.1 核心资源
- coin（金币）
  - 获取方式
    1. 通关获得（少量）
    2. 活动奖励 （部分活动完成可获得大量金币）
    3. 直接充值
  - 用处 
    1. 关卡失败可使用金币来增加步数以继续完成关卡
    2. 购买live（体力）
- live（体力）
  - 获得方式
    1. 自然恢复：每30分钟恢复1点，默认储存上限为5点
    2. 金币可购买体力（900可充满体力）
    3. 充值或在某些活动中可获得限时无限体力
    4. 开通付费通行证可突破体力上限为8
    5. team中通过向团队成员request（request规则：单次可获得5点，每次request后会进入冷却，冷却结束后可再次request，储存上限可提升至15点；当前体力储存量＞10时，无法发起索要）
  - 用处：用于日常通关，通关不消耗live（体力）；关卡失败扣除一live（体力）
- earn stars（星星）
  - 获得方式：通关可获得一个earn star
  - 用处：用来解锁城堡装扮
- booster（准备阶段道具）
  - 火箭（Rocket）
    - 生成条件：直线消除4个同色方块
    - 效果：清除对应一行或一列的所有可消除方块、障碍物，或扣除障碍物一层生命值
  - 炸药（TNT）
    - 生成条件：L型/T型消除5个同色方块
    - 效果：清除以自身为中心2格半径范围内的方块、障碍物，或扣除障碍物一层生命值
  - 彩虹球（Light Ball）
    - 生成条件：直线消除5个同色方块
    - 效果：选中后可清除场上所有同一种类的方块

  - 道具组合联动效果
    - TNT + TNT：清除以自身为中心的4 格半径范围内的可清除方块、障碍物或一层障碍生命值
    - Propeller + Propeller：清除上下左右四个方块，之后清除3个随机的可清除方块、障碍物或一层障碍生命值
    - rocket + rocket：清除以自身为中心十字范围内的可清除方块、障碍物或一层障碍生命值
    - light ball + light ball：清屏
    - light ball + TNT/Propeller/rocket:随机将场上一种所有同色方块变成TNT/Propeller/rocket，之后触发对应效果
    - TNT + Propeller：Propeller 会携带 TNT 到随机位置爆炸，清除范围内方块的可清除方块、障碍物或一层障碍生命值
    - TNT + rocket：清除以触发点为中心的3 行 + 3 列
    - Propeller + rocket：Propeller 会携带 rocket 到随机位置清除一列或一排（取决于rocket的方向）的可清除方块、障碍物或一层障碍生命值
    - 特殊机制：light ball + Propeller触发时，Propeller不会消除周围的方块和道具
  
- 局内道具
  - 锤子（hammer）：单点清除指定方块、障碍物，或扣除障碍物一层生命值
  - 箭矢（arrow）：清除指定一整行内容
  - 加农炮（cannon）：清除指定一整列内容
  - 小丑帽（jester hat）：随机打乱当前场上所有方块布局

### 3.2 付费设计
- 直充充值：直接购买游戏内付费货币，兑换金币、体力、道具等资源
- Royal Pass（赛季通行证）：完成每日/每周任务提升等级，解锁免费+付费双轨奖励；性价比高于单次直充，付费档可解锁专属头像框、装扮、体力上限突破等特权
- 限时充值活动：按活动主题区分奖励侧重，部分活动投放大量金币，部分投放高级道具、卡包，提供多样化付费选择
- 限定礼包：新手礼包、活动专属礼包、节日礼包，付费档位低，奖励集中，引导轻度付费

## 4. UX/UI设计
### 4.1 界面布局
  - 主界面：城堡（核心展示区）+ 关卡入口和区域解锁进度（底部）+ 资源栏（顶部）+ 活动（左侧，右侧和资源栏下面）
  - 关卡内：右上角显示剩余步数，左上角显示关卡目标，底部是道具栏

## 5. 核心亮点与待优化点（持续更新）
### 5.1 核心亮点
1. 三消闯关+城堡装扮+集卡养成结合，同时覆盖消除闯关、视觉收集、养成长线追求，提升玩家留存与在线时长
2. 游戏运行流畅，支持离线闯关，随时随地可进行对局，完美适配碎片化时间场景
3. 主线关卡难度梯度平缓，新手容错率高，不易出现早期重度卡关劝退
4. 基础资源产出稳定，消耗节奏温和，零氪、微氪均可正常推进主线，无强制氪金卡点
5. 随关卡推进持续解锁新障碍、新特效、新关卡类型，玩法新鲜感持续，降低长期闯关疲劳
6. 无强制广告弹窗，充值活动弹窗频率低，无恶意诱导付费，基础体验友好
7. 支持离线闯关，联网同步关卡进度
8. 可长时间在后台运行，再次点开后可快速上线，游戏十分流畅

### 5.2 待优化（个人观点）
1. 游戏不支持中文语言，对国内玩家理解文本、活动规则存在门槛，本地化适配不足
2. 移动端无窗口化、小窗模式，多任务切换便利性不足
3. 国内用户支付渠道不友好，不支持微信、支付宝等常用支付方式，充值流程繁琐

## 6. 活动系统
### 6.1 活动类型（按核心机制分类）
- 竞技挑战类：依靠个人闯关实力、连胜计数获取奖励，代表活动：Ancient Adventure（需连胜解锁阶梯奖励，对后期有一定难度，前期新手友好）
- 限时任务类：完成指定闯关、合成特效、收集道具等任务获取进度奖励，代表活动：Lightning Rush（可解锁限时无限体力，缓解体力不足，体验愉悦）
- 团队协作类：需要多名团队玩家共同贡献进度才能解锁阶段奖励，代表活动：Train Journey（需队友共同推进，匹配到不活跃玩家会直接影响活动完成度与体验）
- 充值付费类：礼包（包含各种资源），直接充值，通行证（通关不断解锁进度逐步解锁奖励）

### 6.2 活动周期
- 小型限时活动：常规周期为3天，玩法轻量化，快速上线快速下线，保持游戏新鲜感
- 大型赛季活动：周期为30天，以Royal Pass通行证为核心，搭配长线任务与养成目标
- Collection集卡活动：周期较长，跨多个小活动，依托多活动产出卡包，形成长线收集目标

### 6.3 活动对玩家的影响
1. 丰富玩法维度，解压类活动可有效缓解主线连续闯关的疲劳
2. 团队协作活动构建社交联结，提升玩家归属感与留存
3. 无限体力、无限道具类活动降低闯关门槛，提升爽感与通关效率
4. 竞技、集卡类活动提供长线追求，提高用户日活与游戏粘性
5. 付费活动提供差异化视觉奖励，满足收集与展示需求，拉动付费转化

## 7. 已发现问题与Bug（标准化记录，方便追溯）
### 7.1 程序Bug类（可复现、机制异常）
1. 问题描述：Super Light Ball与TNT融合触发清屏后，剩余1个Super Light Ball未正常触发效果直接消失
2. 问题描述：活动入口展示存在上限，两侧活动栏最多显示10个活动，超出数量的活动会被隐藏，无法直接查看与进入
3. 问题描述：Level 450关卡开局仅刷新两种颜色方块，步数耗尽进入结算阶段时，界面异常刷新为四种颜色方块
4. 问题描述：耳机连接状态下断开连接后，music声音消失，音效输出异常

### 7.2 体验设计问题
1. 团队协作活动（Train Journey）匹配机制不合理，无法主动更换队友，不活跃玩家会直接拖累活动进度，严重影响体验