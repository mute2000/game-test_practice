# Royal Match游戏理解主文档
## 1. 游戏基础信息
- 游戏类型：休闲消除类手游（三消 + 线性关卡闯关 + 城堡装饰解锁 + 活动集卡养成）
- 目标用户：碎片化时间休闲手游玩家，轻度闯关、养成、收集偏好用户，主打海外市场
- 核心玩法：通过三消消除完成关卡目标，获取金币、星星、活动道具等奖励；使用星星解锁城堡装扮区域，参与活动获取集卡、道具、限定奖励

## 2. 核心玩法体系
### 2.1 核心循环
1. 消耗体力进入关卡 → 完成关卡指定消除目标 → 通关获取金币/星星/活动道具，失败可消耗金币增加步数重试 → 解锁后续主线关卡
2. 累积通关星星解锁城堡不同区域，完成区域装扮获取阶段性奖励，推进主线养成进度
3. 参与各类限时活动，完成活动任务/关卡/协作目标，获取卡包、金币、道具、限时特权奖励
4. 集齐collection卡片兑换大额奖励，重复卡片转化为卡星用于兑换卡包
5. 体力耗尽后，通过自然恢复/金币购买/团队好友索要恢复体力，重复闯关流程

### 2.2 养成/收集系统
- 城堡装扮系统：通关获取星星为核心解锁材料，逐步解锁城堡不同区域装扮；装扮仅为视觉展示，无属性加成，全部解锁后可进入下一主题区域
- Collection集卡系统：通过完成各类活动获取卡包，开启卡包获得对应收藏卡片；集齐指定卡组可领取大额金币、道具奖励；重复获得的卡片自动转化为card stars（卡星），卡星可用于兑换卡包，实现资源循环

### 2.3 关卡类型（完整分类+机制说明）
- 普通关卡：主线基础关卡，难度平缓，消耗固定体力，提供基础金币、星星、活动进度奖励
- hard level（困难关卡）：难度高于普通关卡，通关后获得的基础奖励、指定活动进度为普通关卡的3倍
- super hard level（超级困难关卡）：难度高于困难关卡，通关后获得的基础奖励、指定活动进度为普通关卡的10倍
- bonus level（奖励关卡）：仅刷新两种颜色消除方块，特效组合概率大幅提升；关卡无失败机制，必定通关，可获得大量金币，用于缓解主线连续闯关的疲劳感
- king's nightmare（特殊限时关卡）：区别于常规步数限制关卡，采用**限时消除**机制，完成目标即可通关；可自主选择参与或跳过；失败无法使用金币续命，可无限重新挑战；失败不会打断活动连胜、活动进度计数

## 3. 资源系统
### 3.1 核心资源
- coin（金币）：获取途径为普通通关、困难/超难关卡、奖励关卡、活动奖励、集卡成套奖励；用途为购买体力、关卡内增加挑战步数、兑换部分基础道具
- live（体力）：
  - 自然恢复：每30分钟恢复1点，默认储存上限为5点
  - 其他获取：金币直接购买、向团队成员request索要（单次可获得5点，储存上限可提升至15点；当前体力储存量＞10时，无法发起索要）
  - 消耗规则：成功通关、失败重试均消耗体力，离线闯关同样消耗体力
- earn stars（星星）：仅通过通关关卡获取，为城堡区域解锁的唯一核心材料，无其他获取途径
- booster（道具系统，统一命名+规范描述）
  - 关卡内可合成道具（开局前/对局中生成）
    - 火箭（Rocket）
      - 生成条件：直线消除4个同色方块
      - 效果：清除对应一行或一列的所有可消除方块、障碍物，或扣除障碍物一层生命值
    - 炸药（TNT）
      - 生成条件：L型/T型消除5个同色方块
      - 效果：清除以自身为中心2格半径范围内的方块、障碍物，或扣除障碍物一层生命值
    - 彩虹球（Light Ball）
      - 生成条件：直线消除5个同色方块
      - 效果：选中后可清除场上所有同一种类的方块

  - 道具组合联动效果
    - TNT + TNT：清除以自身为中心4格半径范围内容，清除效果翻倍
    - 火箭 + 火箭：触发十字清除效果，清除触发点所在整行+整列
    - 彩虹球 + 彩虹球：触发全屏清除效果，清空场上所有可消除方块与障碍
    - 彩虹球 + TNT/火箭：将场上随机一种颜色的所有方块，全部转化为对应道具并一次性触发
    - TNT + 火箭：清除以触发点为中心的3行+3列区域
  - 局外携带道具（开局前可选择使用）
    - 锤子：单点清除指定方块、障碍物，或扣除障碍物一层生命值
    - 纵向箭矢：清除指定一整列内容
    - 横向加农炮：清除指定一整行内容
    - 小丑帽：随机打乱当前场上所有方块布局

### 3.2 氪金点（付费设计）
- 直充充值：直接购买游戏内付费货币，兑换金币、体力、道具等资源
- Royal Pass（赛季通行证）：完成每日/每周任务提升等级，解锁免费+付费双轨奖励；性价比高于单次直充，付费档可解锁专属头像框、装扮、体力上限突破等特权
- 限时充值活动：按活动主题区分奖励侧重，部分活动投放大量金币，部分投放高级道具、卡包，提供多样化付费选择
- 限定礼包：新手礼包、活动专属礼包、节日礼包，付费档位低，奖励集中，引导轻度付费

## 4. 交互/UI设计
### 4.1 核心操作逻辑
- 移动端操作：采用点击+滑动的基础操作方式，学习成本极低，新手易上手，适配碎片化单手操作
- 界面布局
  - 首页：城堡展示区（核心视觉与养成反馈）+ 底部关卡入口&区域解锁进度条 + 顶部资源状态栏 + 多活动入口（左侧、右侧、资源栏下方多区域分布）
  - 关卡内界面：左上角显示关卡目标，右上角显示剩余步数/剩余时间，底部为携带道具栏，操作区域居中

### 4.2 反馈设计
- 正向反馈：方块消除时伴随特效动画、轻快音效与震动反馈，通关有奖励弹窗与城堡进度动画，成就感反馈清晰
- 失败反馈：步数/时间耗尽未完成目标时，音效、动画切换为消极氛围；弹窗提示是否使用金币增加步数，并明确提示消耗金币、可能损失部分活动进度

## 5. 核心亮点与待优化点（持续更新）
### 5.1 核心亮点
1. 三消闯关+城堡装扮+集卡养成结合，同时覆盖消除闯关、视觉收集、养成长线追求，提升玩家留存与在线时长
2. 游戏运行流畅，支持离线闯关，随时随地可进行对局，完美适配碎片化时间场景
3. 主线关卡难度梯度平缓，新手容错率高，不易出现早期重度卡关劝退
4. 基础资源产出稳定，消耗节奏温和，零氪、微氪均可正常推进主线，无强制氪金卡点
5. 随关卡推进持续解锁新障碍、新特效、新关卡类型，玩法新鲜感持续，降低长期闯关疲劳
6. 无强制广告弹窗，充值活动弹窗频率低，无恶意诱导付费，基础体验友好
7. 支持离线闯关，联网同步进度、活动

### 5.2 待优化/可改进点
1. 游戏不支持中文语言，对国内玩家理解文本、活动规则存在门槛，本地化适配不足
2. 移动端无窗口化、小窗模式，多任务切换便利性不足
3. 国内用户支付渠道不友好，不支持微信、支付宝等常用支付方式，充值流程繁琐

## 6. 活动系统（结合你2026-01-21体验，完整补全）
### 6.1 活动类型（按核心机制分类）
- 竞技挑战类：依靠个人闯关实力、连胜计数获取奖励，代表活动：Ancient Adventure（需连胜解锁阶梯奖励，对后期有一定难度，前期新手友好）
- 限时任务类：完成指定闯关、合成特效、收集道具等任务获取进度奖励，代表活动：Lightning Rush（可解锁限时无限体力，缓解体力不足，体验愉悦）
- 团队协作类：需要多名团队玩家共同贡献进度才能解锁阶段奖励，代表活动：Train Journey（需队友共同推进，匹配到不活跃玩家会直接影响活动完成度与体验）
- 充值付费类：礼包（包含各种资源），直接充值，通行证（通关不断解锁进度逐步解锁奖励）

### 6.2 活动周期
- 小型限时活动：常规周期为3天，玩法轻量化，快速上线快速下线，保持游戏新鲜感
- 大型赛季活动：周期为30天，以Royal Pass通行证为核心，搭配长线任务与养成目标
- Collection集卡活动：周期较长，跨多个小活动，依托多活动产出卡包，形成长线收集目标

### 6.3 活动对玩家的影响
1. 丰富玩法维度，解压类活动可有效缓解主线连续闯关的疲劳
2. 团队协作活动构建社交联结，提升玩家归属感与留存
3. 无限体力、无限道具类活动降低闯关门槛，提升爽感与通关效率
4. 竞技、集卡类活动提供长线追求，提高用户日活与游戏粘性
5. 付费活动提供差异化视觉奖励，满足收集与展示需求，拉动付费转化

## 7. 已发现问题与Bug（标准化记录，方便追溯）
### 7.1 程序Bug类（可复现、机制异常）
1. 问题描述：Super Light Ball与TNT融合触发清屏后，剩余1个Super Light Ball未正常触发效果直接消失
2. 问题描述：活动入口展示存在上限，两侧活动栏最多显示10个活动，超出数量的活动会被隐藏，无法直接查看与进入
3. 问题描述：Level 450关卡开局仅刷新两种颜色方块，步数耗尽进入结算阶段时，界面异常刷新为四种颜色方块
4. 问题描述：耳机连接状态下断开连接后，music声音消失，音效输出异常

### 7.2 体验设计问题
1. 团队协作活动（Train Journey）匹配机制不合理，无法主动更换队友，不活跃玩家会直接拖累活动进度，严重影响体验